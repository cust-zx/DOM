<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			* {
				margin: 0;
				padding: 0;
			}

			img {
				width: 100%;
				vertical-align: top;
			}

			span {
				width: 50px;
				height: 50px;
				background: red;
				text-align: center;
				line-height: 50px;
				position: fixed;
				right: 10px;
				bottom: 10px;
				cursor: pointer;
				display: none;
			}
		</style>
	</head>
	<body>
		<img src="images/nba-top.jpg" id="top">
		<img src="images/nba-nav.jpg" id="nav">
		<img src="images/nba-body.jpg">
		<span>TOP</span>
		<script type="text/javascript">
			window.onload = function() {
				let oSpan = document.querySelector("span");


				window.onscroll = function() {
					let scrollY = getScroll().y;
					if (scrollY >= 200) {
						oSpan.style.display = "block";
					} else {
						oSpan.style.display = "none";
					}

					let timerId = null;
					oSpan.onclick = function() {
						clearInterval(timerId);
						timerId = setInterval(function() {
							let begin = getScroll().y;
							let target = 0;
							let step = (target - begin) * 0.3;
							begin += step;
							if(Math.abs(Math.floor(step)) <= 1)
							{
								clearInterval(timerId);
								window.scrollTo(0,0);
								return;
							}
								window.scrollTo(0,begin);
							
						}, 50)
					}



				}

			}
			// 获取网页的滚动距离
			function getScroll() {
				let x, y;
				if (window.pageXOffset) {
					x = window.pageXOffset;
					y = window.pageYOffset;
				} else if (document.compatMode === "BackCompat") {
					x = document.body.scrollLeft;
					y = document.body.scrollTop;
				} else {
					x = document.documentElement.scrollLeft;
					y = document.documentElement.scrollTop;
				}
				return {
					x: x,
					y: y
				}
			}
		</script>
	</body>
</html>
